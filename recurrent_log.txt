Day1 9.19
   I ç»„ç»‡åç«¯æ–‡ä»¶æ¶æ„ï¼Œåˆ›å»ºbackendé‡Œé¢çš„Dockerfileï¼Œrequirementsä¾èµ–å’Œæ€»é¡¹ç›®çš„docker-compose.yml
   II ç†è§£:Dockerfile:ç”¨æ¥æè¿°å¦‚ä½•æ„å»ºä¸€ä¸ªé•œåƒï¼Œå®šä¹‰å®‰è£…ä¾èµ–ï¼Œæ„å»ºæ­¥éª¤ï¼ŒåŸºç¡€é•œåƒç­‰ï¼Œä¸“æ³¨äºâ€œæ„å»ºé•œåƒâ€ï¼Œå³æŠŠåº”ç”¨å’Œè¿è¡Œä¾èµ–æ‰“åŒ…æˆé•œåƒ
          docker-compose.yml:ç”¨æ¥å®šä¹‰ç¼–æ’å¤šä¸ªå®¹å™¨çš„è¿è¡Œé…ç½®ï¼Œç¼–æ’å¤šä¸ªå®¹å™¨ï¼ˆservicesï¼‰çš„è¿è¡Œé…ç½®ã€‚å®ƒæŠŠé•œåƒï¼ˆæˆ–æ„å»ºé•œåƒçš„ä¸Šä¸‹æ–‡ï¼‰ä¸å®¹å™¨è¿è¡Œæ—¶çš„é…ç½®ï¼ˆç«¯å£æ˜ å°„ã€æŒ‚è½½å·ã€ç¯å¢ƒå˜é‡ã€ç½‘ç»œã€ä¾èµ–ç­‰ï¼‰èšåˆåœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿ä¸€æ¬¡æ€§å¯åŠ¨/åœæ­¢ä¸€ç»„æœåŠ¡(docker compose up/down)
          ä¸¤è€…é…åˆæµç¨‹ï¼šğŸ•åœ¨é¡¹ç›®é‡Œå†™å¥½Dockerfileï¼ˆå®šä¹‰å¦‚ä½•æ„å»ºå•ä¸ªæœåŠ¡ï¼ˆå‰/åç«¯çš„é•œåƒï¼Œ
                     ğŸ•‘ åœ¨docker-compose.ymlä¸­ä¸ºæ¯ä¸ªæœåŠ¡æŒ‡å®šbuildï¼ˆæŒ‡å‘å«Dockerfileçš„ç›®å½•ï¼‰æˆ–image(å·²æ„å»ºçš„é•œåƒ)ï¼Œå¹¶é…ç½®è¿è¡Œæ—¶é€‰é¡¹
                     ğŸ•’ docker-compose up --buildä¸€æ¬¡æ€§æ„å»ºæœåŠ¡
          dockerå¸¸ç”¨å‘½ä»¤:docker compose logs backend/frotend:æŸ¥çœ‹æœåŠ¡å™¨è¿è¡Œæ—¥å¿—
                        docker compose ps æŸ¥çœ‹æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€
                        docker compose restart backend/frontend é‡å¯æŸä¸ªæœåŠ¡å™¨
                        docker network ls æŸ¥çœ‹dockerç½‘ç»œé…ç½®
                        docker compose exec æœåŠ¡å™¨åï¼šåœ¨æœåŠ¡å™¨å†…æ‰§è¡Œå‘½ä»¤ï¼Œå¦‚docker compose exec frontend curx -X GET http://backend:5000/docs æµ‹è¯•å‰ç«¯å®¹å™¨æ˜¯å¦èƒ½é€šè¿‡Dockerç½‘ç»œè®¿é—®åç«¯å®¹å™¨
          curlå‘½ä»¤ï¼šå¯ä»¥é€šè¿‡curlåœ¨ç»ˆç«¯è¿›è¡Œå¯¹æœåŠ¡å™¨ç½‘å€è·¯ç”±çš„è®¿é—®ï¼ŒæŒ‡å®šè®¿é—®çš„æ–¹æ³•(get/post/delete)ä¸ä¼ å…¥çš„æ•°æ®,å¹¶æ¥æ”¶è¿”å›
                   ä¾‹:curl -X Post "http://localhost:5000/yolo/change_model" -F "model_path=valorant.pt" æµ‹è¯•è¯·æ±‚åˆ‡æ¢æ¨¡å‹APIï¼ŒæœŸæœ›è¿”å›åˆ‡æ¢æ¨¡å‹æ–¹æ³•é‡Œå®šä¹‰çš„{"message":"Model changed successfully to valorant.pt"}
                      curl -X POST "http://localhost:5000/register" -H "Content-Type: application/json" -d '{"username": "demo", "full_name": "Demo User", "password": "demo123"}' æµ‹è¯•ç”¨æˆ·æ³¨å†Œ
          Dockerfileé‡Œä¸¤ç§å¾—åˆ°é•œåƒæ–¹å¼imageå’Œbuildçš„åŒºåˆ«:
            build:å‘Šè¯‰Composeå»æŒ‡å®šç›®å½•ç”¨Dockerfileæ„å»ºå½±åƒï¼Œå¸¸ç”¨äºå¼€å‘æ—¶éœ€è¦æŠŠæœ¬åœ°æºç æ‰“åŒ…è¿›é•œåƒæ—¶
            image:ç›´æ¥æŒ‡å®šè¦ä½¿ç”¨çš„é•œåƒå(docker hubæˆ–ç§æœ‰ä»“åº“é‡Œçš„é•œåƒï¼Œå¸¸ç”¨äºç”Ÿäº§æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹é•œåƒ)
            å¦‚æœåŒæ—¶æä¾›buildå’Œimage,Compose åœ¨æ„å»ºåä¼šæŠŠé•œåƒæ‰“ä¸Šä½ æŒ‡å®šçš„ image åç§°ï¼ˆä¾¿äºæ¨é€åˆ° registryé•œåƒä»“åº“ï¼Œå³docker hubç­‰ï¼‰ã€‚
   III åç«¯main.pyæ·»åŠ  app.add_middleware()
       å…è®¸å“ªäº›å¤–éƒ¨æ¥æºå¯ä»¥è·¨åŸŸè®¿é—®åç«¯ï¼Œä¸”å…è®¸è¿™äº›è·¨åŸŸè¯·æ±‚æºå¸¦å‡­è¯ï¼ˆcookiesç­‰ï¼‰ï¼Œä¸”æ‰€æœ‰HTTPæ–¹æ³•å’Œæ‰€æœ‰è¯·æ±‚å¤´éƒ½å…è®¸

   IV æ·»åŠ å‰ç«¯ï¼š1.ç”¨vue create frontendæ–‡ä»¶å¤¹ ä¸‹è½½axios,vuex,bootstrap
              2.åœ¨å‰ç«¯çš„main.jsä¸­è¿æ¥Axioså’ŒBootstrapçš„ä¾èµ–ï¼Œè®¾ç½®axiosåŸºæœ¬URLä¸ºåç«¯ç«¯å£5000
              3.ä¸ºå‰ç«¯æ·»åŠ DockFileï¼Œå¹¶åœ¨docker-composeé‡Œæ·»åŠ frontendæœåŠ¡
              4.æ›´æ–°HelloWorld.vueï¼Œè¿™æ˜¯ä¸ªç¤ºä¾‹ï¼Œè´Ÿè´£æ¸²æŸ“ä¸€ä¸ªç®€å•çš„è§†å›¾å¹¶åœ¨åˆ›å»ºæ—¶å‘åç«¯è¯·æ±‚æ•°æ®ï¼Œç”¨äºéªŒè¯å‰ç«¯èƒ½å¦æ­£ç¡®å¯åŠ¨ï¼Œèƒ½å¦ä¸åç«¯é€šä¿¡ï¼Œèƒ½å¦æ˜¾ç¤ºä»åç«¯è¿”å›å†…å®¹
                åœ¨HelloWorld.vueä¸­ï¼Œcreate()é’©å­é‡Œä½¿ç”¨getMessage()ï¼Œ8080ä¼šæ˜¾ç¤ºåç«¯appçš„helloworld
              5.åœ¨gitæäº¤æ—¶ï¼Œå› ä¸ºvueåˆ›å»ºçš„å‰ç«¯é¡¹ç›®å·²ç»æœ‰ä¸€ä¸ª.gitnoreäº†ï¼ˆä»£è¡¨å®ƒåŸæœ¬æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„gitä»“åº“ï¼‰ï¼Œæ·»åŠ åˆ°çˆ¶ä»“åº“æ—¶ï¼Œgitå°†å…¶è¯†åˆ«ä¸ºå­æ¨¡å—ï¼ˆgit ls-files --stage | grep frotend æ£€æŸ¥gitå¦‚ä½•çœ‹å¾…è¿™ä¸ªç›®å½•ï¼Œ160000è¡¨ç¤ºå­æ¨¡å—)
                æ­¤æ—¶éœ€è¦å°†frontendä»å­æ¨¡å—è½¬æ¢ä¸ºæ™®é€šç›®å½• git rm --cached services/frontend + rm/services/frontend/.gitnore + git add services/frontend/

   V ä¸ºdocker-composeæ·»åŠ æ•°æ®åº“ï¼šè¿™é‡Œé‡‡ç”¨Postgresæ•°æ®åº“,ä½¿ç”¨Tortoise-ORMä½œä¸ºå¯¹è±¡å…³ç³»æ˜ å°„å™¨ï¼Œä½¿ç”¨Aerichç®¡ç†æ•°æ®åº“è¿ç§»
                               docker-composeé‡Œé¢å†™å¥½db:é…ç½®åã€é•œåƒç‰ˆæœ¬ï¼ˆpostgresç‰ˆæœ¬/mysqlç‰ˆæœ¬ç­‰ï¼‰ï¼Œæš´éœ²ç«¯å£ï¼Œç¯å¢ƒå˜é‡ï¼ˆæ•°æ®åº“åï¼Œç”¨æˆ·/å¯†ç ï¼Œå®¹å™¨å¯åŠ¨æ—¶PostgreSQLä¼šä½¿ç”¨è¿™äº›é…ç½®åˆå§‹åŒ–ï¼‰ï¼Œæ•°æ®æŒä¹…åŒ–ã€‘ï¼Œè¦åœ¨backend:é‡Œé¢è¿æ¥é…ç½®ï¼Œè¿æ¥å­—ç¬¦ä¸²æ ¼å¼ï¼špostgres://ç”¨æˆ·å:å¯†ç @ä¸»æœºå:ç«¯å£/æ•°æ®åº“å
     ORMï¼šObject Relational Mapper å¯¹è±¡å…³ç³»æ˜ å°„å™¨ï¼Œå……å½“æ•°æ®åº“ä»“åº“çš„â€œç¿»è¯‘å™¨â€ï¼Œç”¨Pythonçš„ç±»å’Œå¯¹è±¡æ“ä½œæ•°æ®ï¼ŒORMæŠŠè¿™äº›æ“ä½œç¿»è¯‘æˆSQLå»è·Ÿæ•°æ®åº“äº¤äº’ï¼ˆä¾‹å¦‚ï¼Œç”¨pyå®šä¹‰ä¸€ä¸ªæ¨¡å‹ï¼ŒORMæŠŠä»–ç¿»è¯‘æˆæ•°æ®åº“é‡Œçš„è¡¨)ï¼Œä¸å¿…å†™SQL
     Tortoise-ORMï¼šä¸“é—¨ä¸ºå¼‚æ­¥async/awaitå†™çš„ORMï¼Œæ‰€æœ‰æ•°æ®åº“æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œéœ€è¦ç”¨wait
     Aerich:é…å¥—çš„è¿ç§»å·¥å…·ï¼Œå½“æ›´æ”¹æ•°æ®åº“æ¨¡å‹ï¼ˆæ¯”å¦‚æ–°å¢å­—æ®µæ—¶ï¼‰ï¼ŒAerichå¸®ä½ ç”Ÿæˆå¹¶åº”ç”¨æ•°æ®åº“å˜æ›´è„šæœ¬

Day2 9.20 
   I æ•°æ®åº“ï¼šdatabaseæ–‡ä»¶å¤¹
     models.py:æ•°æ®æ¨¡å‹å®šä¹‰æ–‡ä»¶ï¼Œå®šä¹‰æ‰€æœ‰æ•°æ®åº“è¡¨å¯¹åº”çš„Pythonç±»ï¼ˆæ¨¡å‹ï¼‰ï¼Œç”¨Tortoise-ORMçš„è¯­æ³•å®šä¹‰å­—æ®µï¼Œå…³ç³»ï¼Œç´¢å¼•ç­‰
     config.py:æä¾›é…ç½®ä¿¡æ¯ï¼ˆæ•°æ®åº“åœ°å€ï¼Œæ¨¡å‹ä½ç½®
     register.py:åœ¨åº”ç”¨å¯åŠ¨æ—¶è¯»å–é…ç½®ï¼Œè¿æ¥æ•°æ®åº“ï¼ŒåŠ è½½æ¨¡å‹
     config(é…ç½®ä¿¡æ¯)+models(è¡¨ç»“æ„)+register(è¿æ¥ç®¡ç†) = å®Œæ•´çš„æ•°æ®åº“é›†æˆæ–¹æ¡ˆ

     éœ€è¦åœ¨åç«¯çš„main.pyé‡Œä½¿ç”¨registerå®šä¹‰çš„æ³¨å†Œæ•°æ®åº“çš„å‡½æ•°åˆå§‹åŒ–æ•°æ®åº“
     å½“æ›´æ”¹æ¨¡å‹åï¼Œå¯ä»¥é€šè¿‡docker-cmpose exec backend aerich migrate+upgrade æ›´æ–°æ•°æ®åº“
   
   II å®šä¹‰ç”¨äºè¯·æ±‚ä½“/è¿”å›ä½“çš„æ•°æ®æ¨¡å‹ï¼šschemasæ–‡ä»¶å¤¹ï¼Œå……å½“â€œæ•°æ®æ ¼å¼è§„èŒƒâ€çš„è§’è‰²
      users.py:UserInSchemaï¼šéªŒè¯ç”¨æˆ·æäº¤çš„æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡® UserOutSchemaï¼šå®šä¹‰è¿”å›ç»™å‰ç«¯çš„æ•°æ®æ ¼å¼ UserDatabaseSchemaï¼šç”¨äºåº”ç”¨å†…éƒ¨çš„ç”¨æˆ·éªŒè¯å’Œå¤„ç†
      Status.py:ç”¨äºè¿”å›çŠ¶æ€æ¶ˆæ¯
   
   III CRUDå¸®åŠ©å‡½æ•° crudæ–‡ä»¶å¤¹ï¼šå®ç°userèµ„æºçš„æ‰€æœ‰å¢åˆ æŸ¥æ”¹æ“ä½œçš„å‡½æ•°

Day3 9.22
   I pytest:ç”¨äºåœ¨crud helperå‡½æ•°å†™å®Œåï¼Œå¯¹CRUDå‡½æ•°è¿›è¡Œæµ‹è¯•
       pytestæ˜¯Pythonç”Ÿæ€ä¸­æœ€æµè¡Œçš„æµ‹è¯•æ¡†æ¶ï¼Œæœ‰ç®€æ´è¯­æ³•(æ™®é€šassertè¯­å¥),ä¸°å¯Œfixtureç³»ç»Ÿï¼ˆä¾èµ–æ³¨å…¥æœºåˆ¶),è‡ªåŠ¨å‘ç°æµ‹è¯•å‡½æ•°ï¼Œé…åˆpytest-asyncioå®Œç¾æ”¯æŒfastapi+TORTOISE_ORMçš„å¼‚æ­¥ç‰¹æ€§
       ä¾èµ–æ³¨å…¥æœºåˆ¶:ä½¿pyteståªéœ€è¦åœ¨conftesté…ç½®æ–‡ä»¶ä¸­åªå®šä¹‰ä¸€æ¬¡ï¼Œæµ‹è¯•ä½¿ç”¨çš„æ•°æ®åº“åŠåº“é‡Œçš„è¡¨ç­‰ï¼Œåœ¨æ‰€æœ‰æµ‹è¯•ä¸­éƒ½èƒ½ä¾èµ–æ³¨å…¥è‡ªåŠ¨åˆ›å»º
       ä¸åŒä½œç”¨åŸŸçš„fixture:ä½œç”¨åŸŸå†³å®šä¾èµ–æ³¨å…¥fixtureçš„ç”Ÿå‘½å‘¨æœŸ é»˜è®¤ä¸ºfunctionï¼ˆæ¯ä¸ªæµ‹è¯•å‡½æ•°æ‰§è¡Œå‰éƒ½ä¼šè¿è¡Œä¸€æ¬¡,å¦‚å·¥å‚å‡½æ•°ï¼Œæ•°æ®æ¸…ç†) ä¸session (æ•´ä¸ªæµ‹è¯•ä¼šè¯åªæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æ•°æ®åº“åˆå§‹åŒ–)

    pytestæµ‹è¯•å…·ä½“å®ç°:
      1.æµ‹è¯•ç¯å¢ƒéš”ç¦» åˆå§‹åŒ–SQLiteè½»é‡å†…å­˜æ•°æ®åº“
      2.å·¥å‚æ¨¡å¼åˆ›å»ºæµ‹è¯•æ•°æ®,å³userè¡¨ use_factory()
      3.AAAæµ‹è¯•æ¨¡å¼ Arrange:å‡†å¤‡æµ‹è¯•æ•°æ®(UserInSchemaå¯¹è±¡) Act:æ‰§è¡ŒCRUDæ“ä½œ Assert:éªŒè¯ç»“æœ
      4.å…¨é¢æµ‹è¯•è¦†ç›–ï¼šæ­£å¸¸è·¯å¾„ï¼štest_create_user_success - éªŒè¯åŸºæœ¬åŠŸèƒ½å’Œä¸šåŠ¡é€»è¾‘
                   å¼‚å¸¸è·¯å¾„ï¼štest_create_user_conflict - éªŒè¯é”™è¯¯å¤„ç†å’Œçº¦æŸæ£€æŸ¥
                   æƒé™æ§åˆ¶ï¼štest_delete_user_self_only - éªŒè¯å®‰å…¨æ€§å’Œè®¿é—®æ§åˆ¶
   
   II JWTèº«ä»½éªŒè¯
        JWTï¼ˆJSON Web Token)ï¼šç›¸å½“äºç½‘é¡µçš„ç”µå­èº«ä»½è¯ï¼Œå³ç™»é™†ä¸€æ­¤åï¼ŒæœåŠ¡å™¨ç»™ä½ ä¸€ä¸ªé€šè¡Œè¯ï¼Œä¹‹åå‡­è¿™ä¸ªé€šè¡Œè¯è®¿é—®
          åˆ†ä¸ºä¸‰éƒ¨åˆ†(ç”¨.åˆ†å‰²ï¼š Header(å¤´éƒ¨)ï¼Œè¯´æ˜åŠ å¯†ç®—æ³• payload(è½½è·)ï¼Œç”¨æˆ·ä¿¡æ¯å’Œè¿‡æœŸæ—¶é—´ Signature:ç­¾å)
          é€šå¸¸JWTä¼šåœ¨ç½‘é¡µçš„HTTP Headerä¸­ï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠJWTå†™åˆ°ç½‘é¡µCookieï¼ˆæœåŠ¡å™¨åœ¨ä¸ªäººæµè§ˆå™¨å­˜å‚¨çš„ä¸ªäººä¿¡æ¯ï¼‰ç«¯ä¸­ï¼Œå¹¶ä»Cookieä¸­è¯»å–

        jwthandler.pyåŒ…æ‹¬ä¸€ä¸ªä»OAuth2ç»§æ‰¿æ¥çš„ç±»ï¼Œè¯¥ç±»ä¼šä»cookieä¸­è€Œä¸æ˜¯åƒçˆ¶ç±»ä¸€æ ·ä»httpå¤´ä¸­è¯»å–JWT
                     ä¸€ä¸ªJWTç”Ÿæˆå‡½æ•°ï¼Œå‚æ•°ä¸ºè¦æ”¾å…¥JWTçš„ç”¨æˆ·ä¿¡æ¯å’Œè‡ªå®šä¹‰è¿‡æœŸæ—¶é—´ï¼Œè¿”å›ç”Ÿæˆçš„JWTå­—ç¬¦ä¸²
                     ä¸€ä¸ªç”¨æˆ·è®¤è¯å‡½æ•°ï¼Œè°ƒç”¨ä¹‹å‰ç±»åœ¨å½“å‰ç½‘é¡µ(/login)çš„å®ä¾‹ï¼Œå°†å®ä¾‹ä»cookieä¸­è¯»å–çš„JWTä¼ ç»™è¿™ä¸ªå‡½æ•°ï¼Œä»è€ŒéªŒè¯æ˜¯å“ªä¸ªç”¨æˆ·ï¼Œè¿”å›è¯¥ç”¨æˆ·ã€‚å¦‚æœæ²¡æœ‰JWTï¼Œè‡ªåŠ¨è¿”å›401é”™è¯¯

        JWTå®Œæ•´çš„å·¥ä½œæµç¨‹:
          1. ç”¨æˆ·POST /login {"username": "john", "password": "123456"}
          2. æœåŠ¡å™¨éªŒè¯å¯†ç æ­£ç¡®
          3. è°ƒç”¨create_access_token({"sub": "john"})
          4. ç”ŸæˆJWT: "eyJhbGciOiJIUzI1NiJ9..."
          5. è®¾ç½®Cookie: Set-Cookie: Authorization=Bearer eyJhbGciOiJIUzI1NiJ9...
          6. è¿”å›ç™»å½•æˆåŠŸ
        è®¿é—®å—ä¿æŠ¤æ¥å£æµç¨‹ï¼š
          1. ç”¨æˆ·GET /api/profile
          2. æµè§ˆå™¨è‡ªåŠ¨å‘é€Cookie: Authorization=Bearer eyJhbGciOiJIUzI1NiJ9...
          3. OAuth2PasswordBearerCookieä»Cookieæå–Token
          4. get_current_useréªŒè¯Tokenå¹¶æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯
          5. è¿”å›ç”¨æˆ·èµ„æ–™

   III å¯†ç å“ˆå¸Œ
       1.ä»€ä¹ˆæ˜¯å¯†ç å“ˆå¸Œ?
         å°±åƒæŠŠé’±æ”¾è¿›ä¿é™©ç®±ï¼Œåªæœ‰å¯†ç æ‰èƒ½æ‰“å¼€ å¦‚ï¼šç”¨æˆ·è¾“å…¥123456->å“ˆå¸Œåå˜æˆå¾ˆå¤æ‚çš„å­—ç¬¦ä¸²
         å…³é”®ç‰¹ç‚¹ï¼šå•å‘æ€§ï¼Œå¯ä»¥ä»å¯†ç ç”Ÿæˆå“ˆå¸Œï¼Œä½†ä¸èƒ½ä»å“ˆå¸Œè¿˜åŸå¯†ç 
                 å”¯ä¸€æ€§ï¼Œç›¸åŒå¯†ç ç”Ÿæˆç›¸åŒå“ˆå¸Œ
                 å®‰å…¨æ€§ï¼Œå³ä½¿æ•°æ®åº“æ³„æ¼ï¼Œé»‘å®¢ä¹Ÿçœ‹ä¸åˆ°çœŸå®å¯†ç 
       2. ä»€ä¹ˆæ˜¯OAuth2PasswordRequestForm?
         è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ç™»å½•è¡¨å•æ ¼å¼
       3. ä»€ä¹ˆæ˜¯bcrypt?
           ä¸€ç§ä¸“é—¨ç”¨äºå¯†ç å“ˆå¸Œçš„ç®—æ³•

       auth.users.pyï¼š
         æ•´ä¸ªèº«ä»½éªŒè¯ç³»ç»Ÿçš„åŸºç¡€ï¼Œåˆ›å»ºä¸€ä¸ªpasslibçš„CryptCOntextåº“å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªåº“çš„å„ç§æ–¹æ³•ï¼Œè¿›è¡Œå¯†ç å“ˆå¸Œï¼ŒéªŒè¯ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦ç¬¦åˆç­‰æ“ä½œ

Day4 9.28 
   I Yoloç›®æ ‡æ£€æµ‹å‡½æ•° detector.py
     1.é¦–å…ˆé€šè¿‡dataclassï¼ˆè‡ªåŠ¨ç”Ÿæˆç®€åŒ–ç±»ï¼Œå¦‚è‡ªåŠ¨ç”Ÿæˆ__init__å‡½æ•°ï¼‰åˆ›å»ºäº†ä¸€ä¸ªDetectorConfigç±»ï¼Œè¯¥ç±»åŒ…å«æ£€æµ‹å™¨çš„é…ç½®(å›¾åƒå¤„ç†å¤§å°ï¼Œç½®ä¿¡åº¦é˜ˆå€¼ï¼Œè¾“å‡ºè·¯å¾„å’Œæ¨¡å‹å­˜å‚¨æ–‡ä»¶å¤¹è·¯å¾„)
     2.åˆ›å»ºé‡è¦-Detectorç±»ï¼Œæ„é€ å‡½æ•°å‚æ•°åŒ…æ‹¬configï¼ˆæ£€æµ‹é…ç½®),model_path(æ¨¡å‹è·¯ç»),device(å¤„ç†è®¾å¤‡)
     3.Detectorç±»çš„å†…ç½®å‡½æ•°:
       ğŸ•› _get_device():è®¾å¤‡æ£€æµ‹ï¼Œå†³å®šæ˜¯ç”¨gpuè¿˜æ˜¯cpu
       ğŸ•› load_model() ï¼šè°ƒç”¨YOLOç±»ï¼Œä¼ å…¥Detectorç±»çš„model_pathå‚æ•°æ„é€ ä¸€ä¸ªYOLOæ¨¡å‹å¯¹è±¡,ä¼ ç»™self.model
       ğŸ•› save_result()ï¼šä¿å­˜å›¾ç‰‡çš„æ£€æµ‹ç»“æœï¼šéå†æ£€æµ‹ç»“æœself.results,æ¯ä¸€ä¸ªç›®æ ‡æ¡†éƒ½ç”¨self.models.predict.plot()ç»˜åˆ¶ç›®æ ‡æ¡†ï¼Œå¹¶é€šè¿‡cv2.imwrite()å°†å›¾ç‰‡è¾“å‡ºåˆ°è¾“å‡ºè·¯å¾„
       ğŸ•› detect_pictue():å›¾ç‰‡æ£€æµ‹å‡½æ•°ï¼Œè°ƒç”¨self.model.predictå°†ç»“æœä¼ ç»™self.results()
       ğŸ•› detect_video():ä¸æ£€æµ‹å‡½æ•°é€»è¾‘å¤§ä¸åŒï¼šä½¿ç”¨cvè¯»å–ä¼ å…¥çš„è§†é¢‘(cv.VideoCapture)ï¼Œä½¿ç”¨cvåˆ†è§£è§†é¢‘ï¼Œè·å–å‚æ•°å’Œæ¯ä¸€å¸§;åˆ›å»ºå¤„ç†è¾“å‡ºçš„è§†é¢‘å¯¹è±¡(cv.VideoWrite)ï¼Œ
                         æ¯ä¸€å¸§éƒ½ç”¨self.model.predictå¤„ç†ï¼Œä»æ¯ä¸€å¸§çš„YOLOæ£€æµ‹ç»“æœä¸­æå–æ¯ä¸ªç›®æ ‡æ¡†çš„å…·ä½“ä¿¡æ¯ï¼ˆè¾¹ç•Œåæ ‡ï¼Œç±»åˆ«ï¼‰
                         ä¸ºæ¯ä¸ªç±»åˆ«åˆ†é…éšæœºä½†åŒç±»å›ºå®šçš„é¢œè‰²ï¼Œåœ¨å…ƒå¸§ä¸Šç»˜åˆ¶æ£€æµ‹æ¡†å’Œæ ‡ç­¾ï¼Œå†™å…¥å¤„ç†åçš„å¸§
                         é‡Šæ”¾è¾“å…¥ï¼Œè¾“å‡ºè§†é¢‘èµ„æºï¼Œè¿”å›è¾“å‡ºè§†é¢‘è·¯å¾„
       ğŸ•› change_model():åˆ‡æ¢YOLOæ¨¡å‹ï¼Œä¼ å…¥æ–°æ¨¡å‹è·¯å¾„ï¼Œå°†self.model_pathæ”¹æˆæ–°æ¨¡å‹è·¯å¾„ï¼Œå†self.load_model()é‡æ–°åŠ è½½æ¨¡å‹
       ğŸ•› æµ‹è¯•:detector.pyä¸‹é¢ç›´æ¥æ·»åŠ 
              é€šè¿‡æ·»åŠ ä¸€ä¸ªtest_imageæ–‡ä»¶å¤¹ é‡Œé¢æ·»åŠ å›¾ç‰‡ ç„¶åæ‰§è¡Œæ£€æµ‹å¹¶è¾“å‡ºç›¸åº”ç»“æœ
              ç›´æ¥åœ¨dockeré‡Œé¢é€šè¿‡ docker compose exec backend python æ–‡ä»¶è·¯å¾„ æ‰§è¡Œå³å¯åˆ¤åˆ«

Day5 10.1 
   I è·¯ç”±routes 
     è·¯ç”±æ˜¯FastAPIåº”ç”¨çš„â€œæ¥å¾…å‘˜â€ï¼Œè´Ÿè´£å®šä¹‰å“ªäº›URLå¯ä»¥è®¿é—®ï¼ŒæŒ‡å®šæ¯ä¸ªURLæ”¯æŒä»€ä¹ˆHTTPæ–¹æ³•ï¼Œå°†HTTPè¯·æ±‚åˆ†å‘åˆ°å¯¹åº”çš„å¤„ç†å‡½æ•°
     è·¯ç”±å……å½“å‰åç«¯è¿æ¥æ—¶åç«¯çš„æ¡¥æ¢ï¼Œå‰ç«¯Vueé€šè¿‡axioså‘é€è¯·æ±‚:axios.post('/api/users,userData),åç«¯è·¯ç”±@app.post("/api/users")æ¥æ”¶å¹¶å¤„ç†

     1 userè·¯ç”±
       ğŸ•› ç”¨æˆ·æ³¨å†Œè·¯ç”±ï¼šç”¨crudå‡½æ•°é‡Œçš„create_user()å¤„ç†ç”¨æˆ·è¾“å…¥æ¨¡å‹ï¼Œåˆ›å»ºç”¨æˆ·ï¼Œè¿”å›åˆ›å»ºæˆåŠŸçš„ç”¨æˆ·æ•°æ®æ¨¡å‹(UserOutSchema)
       ğŸ•› ç”¨æˆ·ç™»å½•è·¯ç”±ï¼šéœ€è¦ä¼ å…¥ä¸€ä¸ªOAuth2çš„è¡¨å•æ ¼å¼çš„ç”¨æˆ·å+å¯†ç ä¿¡æ¯ï¼Œåˆ›å»ºä»¤ç‰Œï¼Œè¿”å›ç”¨æˆ·å·²æˆåŠŸç™»å½•çš„JSONå“åº”(JSONResponse)
       ğŸ•› è·å–ç”¨æˆ·å½“å‰ä¿¡æ¯è·¯ç”±ï¼šä¸¤å±‚ä¾èµ–æ³¨å…¥ï¼Œè£…é¥°å™¨ä¾èµ–æ³¨å…¥æŒ‡æ˜åº”ç¡®ä¿å·²ç™»å½•ç”¨æˆ·è®¿é—®ï¼Œå‡½æ•°å‚æ•°ä¾èµ–æ³¨å…¥æ˜¯ä¼ å…¥å½“å‰ç™»é™†çš„ç”¨æˆ·ä¿¡æ¯ï¼Œè¿”å›å½“å‰ç™»é™†çš„ç”¨æˆ·æ•°æ®æ¨¡å‹(UserOutSchema)
       ğŸ•› åˆ é™¤ç”¨æˆ·è·¯ç”±ï¼šä¹Ÿæ˜¯ä¸¤å±‚ä¾èµ–æ³¨å…¥ï¼Œä¼ å…¥user_idå’Œå½“å‰ç”¨æˆ·ä¿¡æ¯ï¼ˆä¾èµ–æ³¨å…¥å·²ç™»å½•ç”¨æˆ·ï¼‰ï¼Œè°ƒç”¨crud.delete_useråˆ é™¤å½“å‰ç”¨æˆ·ï¼Œè¿”å›åˆ é™¤æˆåŠŸçš„çŠ¶æ€ä¿¡æ¯(Status)
       ğŸ“ è·å–ç”¨æˆ·ä¿¡æ¯å’Œåˆ é™¤ç”¨æˆ·è¿™ä¸¤ä¸ªè·¯ç”±ï¼Œæ˜¯å¦‚ä½•è¿›è¡Œä¾èµ–æ³¨å…¥çš„ï¼Ÿ
           ä»¥è·¯ç”±å‡½æ•°ä¸ºä¾‹ï¼Œç”¨æˆ·å‚æ•° current_user:UserOutSchema = Depends(get_current_user)
           ä¸€.FastApiå‘ç°ä¾èµ–ï¼Œå…ˆæ‰§è¡Œget_current_user,æ£€æŸ¥get_current_userçš„å‚æ•°ï¼ˆtoken:str = Depends(security)),å®é™…æ‰§è¡Œtoken = await security(request)
           äºŒ securityæ˜¯èƒ½ä»cookieé‡Œè·å–ä»¤ç‰Œçš„ç±»OAuth2PasswordBearerCookieçš„å®ä¾‹ï¼Œè°ƒç”¨è¯¥ç±»çš„å”¤èµ·å‡½æ•°__call__,ä»Cookieä¸­è·å–Authorization,è§£æjwt Tokenï¼Œè¿”å›è·å–çš„tokenå­—ç¬¦ä¸²
           ä¸‰.tokenå­—ç¬¦ä¸²ä¼ é€’ç»™get_current_user, æŸ¥è¯¢å¹¶è¿”å›ç”¨æˆ·
           å››.get_current_userè·å–åˆ°çš„ç”¨æˆ·ä¿¡æ¯ä¼ é€’ç»™è·¯ç”±ï¼Œå¹¶æ³¨å…¥åˆ°è·¯ç”±å‡½æ•°ä¸­çš„å‚æ•°ä¸­

     2 yoloè·¯ç”±
       é¦–å…ˆåˆå§‹åŒ–è·¯ç”±å™¨ï¼Œæ‰€æœ‰ç«™ç‚¹å‰ç¼€ä¸º/yolo,ç„¶ååˆå§‹åŒ–ä¸€ä¸ªYOLOæ£€æµ‹å™¨å¯¹è±¡
       ğŸ•› å›¾ç‰‡æ£€æµ‹è·¯ç”±ï¼šä¸Šä¼ å¤šä¸ªå›¾ç‰‡æ–‡ä»¶ï¼ˆUpfileload)ï¼Œå°†æ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°è·¯å¾„ï¼Œå¹¶é€šè¿‡shutil.copyfileobjå°†ä¸Šä¼ çš„æ–‡ä»¶å†™å…¥æœ¬åœ°ï¼Œè¿”å›JSONå“åº”ï¼ˆæˆåŠŸä¿¡æ¯å’Œæ£€æµ‹çš„å›¾ç‰‡è¾“å‡ºåï¼‰
       ğŸ•› è§†é¢‘æ£€æµ‹è·¯ç”±ï¼šæ¥æ”¶å•ä¸ªä¸Šä¼ æ–‡ä»¶ï¼Œå…¶ä»–åŒå›¾ç‰‡æ£€æµ‹
       ğŸ•› åˆ‡æ¢æ¨¡å‹è·¯ç”±ï¼šä¸Šä¼ æ–°æ¨¡å‹çš„æ–‡ä»¶è·¯å¾„(str),è¿ç”¨detector.change_model()
       ğŸ•› è·å–æ‰€æœ‰æ¨¡å‹è·¯ç”±ï¼šè·å–æ‰€æœ‰æ¨¡å‹æ–‡ä»¶å¤¹é‡Œé¢çš„.ptæ–‡ä»¶ä¸å½“å‰ä½¿ç”¨çš„æ¨¡å‹åç§°ï¼ˆé€šè¿‡yoloæ£€æµ‹å™¨å¯¹è±¡çš„.modelå±æ€§è·å–),å¹¶è¿”å›æ‰€æœ‰æ¨¡å‹ä¸å½“å‰æ¨¡å‹çš„JSONå“åº”

    å†™å®Œè·¯ç”±åï¼Œè¦åœ¨åç«¯çš„main.pyæ–‡ä»¶ä¸­é€šè¿‡app.include_router()å¯¼å…¥è·¯ç”±

   II è®¿é—®ä¸äº†åç«¯5050ç«¯å£ï¼šåç«¯ä¸­æŸäº›ä»£ç æœ‰é—®é¢˜æ—¶
      docker compose ps å¯ä»¥æ£€æŸ¥å®¹å™¨çš„è¿è¡ŒçŠ¶æ€
      docker compose logs backend å¦‚æœå®¹å™¨åœ¨è¿è¡Œï¼Œæ£€æŸ¥åç«¯å®¹å™¨çš„æ—¥å¿—ï¼Œçœ‹çœ‹å“ªé‡Œå‡ºäº†é”™ï¼Œå¦‚æœå¥½äº†åº”å½“æ˜¾ç¤º INFOï¼š Application startup complete...
      docker compose restart backend æ”¹å®Œä»£ç å¯ä»¥åªé‡å¯åç«¯

Day6 10.4
   I å‰ç«¯ï¼šstoreæ–‡ä»¶å¤¹ ç”¨äºç®¡ç†Vue.jsçš„å…¨å±€çŠ¶æ€ å³ Vuex Store
     1.store/index.js
       åˆ›å»ºVuex stroeå®ä¾‹ï¼ˆè¶…å¸‚çš„ä¸­å¤®ä»“åº“ï¼Œå­˜å‚¨æ‰€æœ‰éƒ¨é—¨å…±ç”¨çš„æ•°æ®ï¼‰
       å°†å„ä¸ªåŠŸèƒ½æ¨¡å—æ³¨å†Œåˆ°ä¸»storeï¼Œç»Ÿä¸€ç®¡ç†æ‰€æœ‰çŠ¶æ€æ¨¡å—
       å³ï¼šå„å‰ç«¯é¡µé¢å‘é€æ•°æ®ï¼ˆå¦‚æ³¨å†Œï¼Œç™»å½•ç­‰ç”¨æˆ·åœ¨é¡µé¢ä¸Šè¾“å…¥çš„æ•°æ®ï¼‰ï¼Œç»Ÿä¸€è§¦å‘æäº¤åˆ°Vuex Storeä¸­ï¼ŒVuex Storeæ¥æ”¶æ•°æ®å¹¶é€šè¿‡Axioså‘é€HTTPè¯·æ±‚ï¼ŒAxiosçš„å…¨å±€é…ç½®å†³å®šäº†è¯·æ±‚å¦‚ä½•å‘é€åˆ°åç«¯
     2.moduleæ–‡ä»¶å¤¹
       user.js:å……å½“ä»“åº“é‡Œçš„ç”¨æˆ·èµ„æ–™ç®¡ç†å‘˜ï¼Œç®¡ç†ç”¨æˆ·ç™»å½•ï¼Œæ³¨å†Œç­‰ç”¨æˆ·ä¿¡æ¯ï¼Œæä¾›å…³äºç”¨æˆ·çš„å„ç§åŠŸèƒ½ï¼Œæ”¶é›†å„ä¸ªé¡µé¢å…³äºç”¨æˆ·çš„è¯·æ±‚ä¸æ•°æ®å‘é€åï¼Œä¸åç«¯çš„ç”¨æˆ·APIè¿›è¡Œäº¤äº’ï¼Œ
       yolo.js:ç®¡ç†aiæ£€æµ‹ï¼Œæ¨¡å‹åˆ‡æ¢ç­‰åŠŸèƒ½ï¼Œæä¾›YOLOæ£€æµ‹çš„å„ç§åŠŸèƒ½çš„APIå°è£…ï¼Œä¸åç«¯çš„YOLOæ£€æµ‹æœåŠ¡è¿›è¡Œäº¤äº’

   II component
      NavBar.vue:å¯¼èˆªæ  ä½¿ç”¨Bootstrapæ ·å¼ï¼Œé€šè¿‡Vuex storeæ£€æŸ¥ç”¨æˆ·ç™»å½•çŠ¶æ€ï¼Œå·²ç™»å½•å’Œæœªç™»å½•ç”¨æˆ·æ˜¾ç¤ºä¸åŒçš„èœå•é¡¹ï¼ˆå·²ç™»å½•ç”¨æˆ·åŒ…å«åŠŸèƒ½èœå•ï¼Œæœªç™»å½•ç”¨æˆ·åªæœ‰æ³¨å†Œ/ç™»å½•ï¼‰
                       å¯¼èˆªæ éœ€è¦å¯¼å…¥åˆ°App.Vueæ–‡ä»¶ä¸­(Vueåº”ç”¨çš„æ ‡å‡†æ¶æ„æ¨¡å¼),å› ä¸ºApp.vueæ˜¯æ•´ä¸ªvueåº”ç”¨çš„æ ¹ç»„ä»¶ï¼Œå®šä¹‰äº†åº”ç”¨æ•´ä½“è·¯ç”±ç»“æ„ï¼Œè€ŒNavBaréœ€è¦åœ¨æ‰€æœ‰é¡µé¢éƒ½æ˜¾ç¤ºï¼ˆæŒä¹…åŒ–ç»„ä»¶ï¼‰
   
   III views(router-view è·¯ç”±è§†å›¾ï¼ŒåŠ¨æ€å†…å®¹ è¿™é‡Œé¢çš„é¡µé¢éœ€è¦åœ¨router/index.jsæ³¨å†Œä¸Š)
      ğŸ•› RegisterView.vue: æ³¨å†Œé¡µé¢ å¦‚ä½•å®ç°å‰åç«¯è¿æ¥ï¼Ÿ
                                   1.ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç»‘å®šåˆ°Vueç»„ä»¶çš„dataä¸­(RegisterView.vueä¸­ï¼Œ data(){return{user:{}}})
                                   2.è¡¨å•æäº¤è§¦å‘ï¼šç”¨æˆ·ç‚¹å‡»æ³¨å†ŒæŒ‰é’®æ—¶ï¼Œæ³¨å†Œè¯·æ±‚æäº¤åˆ°Vuex Storeä¸­(RegisterView.vueä¸­ï¼Œasync submit(){await this.$store.dispatch(â€˜user/register',this.user)}) 
                                   3.Vuex Storeå¤„ç†ï¼šVuex storeæ¥æ”¶æ•°æ®å¹¶ä½¿ç”¨Axioså‘é€HTTPè¯·æ±‚ï¼ˆstore/modules/user.jsä¸­ï¼Œasync register({dispatch},form){await axios.post('register',form)}
                                   4.Axiosçš„å…¨å±€é…ç½®å†³å®šäº†è¯·æ±‚å¦‚ä½•å‘é€åˆ°åç«¯(main.jsä¸­ï¼Œ axios.defaults.baseURL = ...)
                                   5.å®¹å™¨ç½‘ç»œé€šä¿¡ï¼šDocker Composeé…ç½®äº†å‰ç«¯/åç«¯/æ•°æ®åº“å®¹å™¨é—´çš„ç½‘ç»œ(docker-compose,ymlä¸­ï¼Œ frontend/backend:ports:[], db:environment:)
                                   6.åç«¯APIæ¥æ”¶ï¼šFastapiåç«¯è·¯ç”±æ¥æ”¶åˆ°HTTPè¯·æ±‚:(routes/users.pyä¸­ï¼Œ@router.post("/register))
                                   7.æ•°æ®åº“æ“ä½œï¼šCRUDæ¨¡å—å¤„ç†æ•°æ®åº“æ“ä½œï¼Œå¹¶æœ€ç»ˆå­˜å‚¨åœ¨PostgreSQLæ•°æ®åº“ä¸­ï¼ˆcrud/user.pyä¸­:async def create(user))
                                   8.å“åº”è¿”å›æµç¨‹ï¼š
                                       æ•°æ®åº“ä¿å­˜æˆåŠŸï¼Œè¿”å›ç”¨æˆ·å¯¹è±¡(crud/user.pyé‡Œï¼Œ user_newobj = await Users.create_user(),å³Tortoise ORMæ¨¡å‹æ‰§è¡ŒINSERT INTO)
                                       FastAPIè¿”å›JSON:FastAPIå°†crudè¿”å›çš„ç”¨æˆ·å¯¹è±¡è‡ªåŠ¨åºåˆ—åŒ–ä¸ºJSONæ ¼å¼å“åº”{"id":1, "username":xx, "password":xx, "created_at":2023-10-08xx}(router/users.pyä¸­ï¼Œuser_obj = await crud.create_user(user)ï¼Œreturn user_obj)
                                       Vuex Storeçš„Axiosæ¥æ”¶å“åº”ï¼šä¸å‘é€è¯·æ±‚åŒä¸€å¥ä»£ç :(store/module/user.jsä¸­ï¼Œconst response = await axios.post('register',form))
                                       Vuexæ›´æ–°çŠ¶æ€:æ›´æ–°ç™»å½•çŠ¶æ€ï¼Œå­˜å‚¨ç™»å½•ä¿¡æ¯(store/module/user.jsä¸­ï¼Œ const mutations = {SET_AUTHENTICATED(){},SET_USER(){}}, const actions = {async logIn({commit},form)})
                                       é¡µé¢è·³è½¬ï¼šæ³¨å†ŒæˆåŠŸåï¼Œè·³è½¬è‡³ä»ªè¡¨ç›˜é¡µé¢:(RegisterView.vueä¸­ï¼Œthis.router.push('/dashboard))
     ğŸ•› LoginView.vueï¼š ç™»å½•é¡µé¢ 
                         å‰ç«¯ï¼šç”¨æˆ·å¡«å†™ç™»å½•è¡¨å• â†’ è¡¨å•éªŒè¯ â†’ æäº¤åˆ°Vuex
                         Vuexï¼šåˆ›å»ºFormData â†’ å‘é€axiosè¯·æ±‚åˆ°åç«¯/login
                         åç«¯ï¼šæ¥æ”¶è¯·æ±‚ â†’ éªŒè¯ç”¨æˆ·åå¯†ç  â†’ ç”ŸæˆJWTï¼Œå¯†ç å“ˆå¸Œ â†’ è®¾ç½®Cookieè¿”å›
                         å‰ç«¯ï¼šæ¥æ”¶å“åº” â†’ ç™»å½•åï¼Œè¯·æ±‚/users/whoamiè·å–ç”¨æˆ·ä¿¡æ¯ 
                         åç«¯: /users/whoamiè·¯ç”±ï¼Œæ‰§è¡Œæ³¨å…¥çš„get_current_userä¾èµ–ï¼Œä»æ•°æ®åº“ä¸­è¿”å›å½“å‰ç”¨æˆ·ä¿¡æ¯
                         æŒä¹…åŒ–ï¼šJWTå­˜å‚¨åœ¨HTTP-only Cookieä¸­ï¼Œåç»­è¯·æ±‚è‡ªåŠ¨æºå¸¦èº«ä»½ä¿¡æ¯
      
     ğŸ•› DashboardView.vue: ç›®æ ‡æ£€æµ‹ä¸»ä½“é¡µé¢ åŒ…æ‹¬ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡/è§†é¢‘ï¼Œæ»‘åŠ¨æ¡é€‰æ‹©ç½®ä¿¡åº¦ï¼Œåˆ‡æ¢æ¨¡å‹ï¼Œè¿›è¡Œæ£€æµ‹
                                   1.ç”¨æˆ·è¾“å…¥çš„æ•°æ®ç»‘å®šåˆ°Vueç»„ä»¶çš„dataä¸­ï¼šï¼ˆDashboardView.vueä¸­ï¼Œ å…ˆå®šä¹‰const imageFiles/videoFiles/confthreshold..., å†ç»‘å®šäº‹ä»¶,å¦‚å›¾ç‰‡æ–‡ä»¶é€‰æ‹©ï¼š const handleImageSelect = (event) =>{const files = Array.from(event.target.files, imageFiles.value = files)}
                                   2.æ£€æµ‹ä»»åŠ¡è§¦å‘:ç”¨æˆ·ç‚¹å‡»æ£€æµ‹æŒ‰é’®æ—¶ï¼Œæ£€æµ‹è¯·æ±‚æäº¤åˆ°Vuex Storeä¸­ï¼Œdispatchè¦å†™ä¸Šå¯¹åº”çš„è·¯ç”±(DashboardView.vueä¸­çš„å›¾ç‰‡æ£€æµ‹ï¼Œ const uploadImages = async() => {await store.dispatch(â€˜yolo/detectImages,{files:imageFiles.value, confthreshold:confthreshold.value})})
                                   3.Vuex Storeå¤„ç†ï¼šVuex storeæ¥æ”¶æ•°æ®ï¼Œå¹¶ä½¿ç”¨Axioså‘é€HTTPè¯·æ±‚(store/modules/yolo.jsä¸­ï¼Œ const actions = {async detectVideos({commit}, {files,confThreshold})
                                                                                                                                      async detectVideos({commit},{files,confThreshold})
                                                                                                                                      async switchModel({commit},{modelName}) å…¶ä¸­çš„ await axios.post('åç«¯è·¯ç”±'ï¼ŒdormData)})
                                   4.Axioså…¨å±€é…ç½®å’Œå®¹å™¨ç½‘ç»œé€šä¿¡ï¼Œå†³å®šäº†è¯·æ±‚å¦‚ä½•å‘é€åˆ°å“ªä¸ªåç«¯
                                   5.åç«¯è·¯ç”±APIæ¥æ”¶ï¼šFastAPIåç«¯è·¯ç”±æ¥æ”¶åˆ°HTTPè¯·æ±‚ï¼Œï¼ˆroutes/yolo.pyä¸­ï¼Œ@router.post("...")
                                   6.YOLOæ£€æµ‹å™¨æ“ä½œï¼šAIæ¨¡å‹å¤„ç†æ–‡ä»¶å¹¶ç”Ÿæˆæ£€æµ‹ç»“æœï¼ˆyolo/detectore.pyï¼‰
                                   7.å“åº”è¿”å›æµç¨‹ï¼š
                                    7.1 YOLOæ£€æµ‹å®Œæˆï¼Œè¿”å›æ£€æµ‹ç»“æœ(routes/yolo.pyä¸­ï¼Œè·¯ç”±å‡½æ•°æœ€åéƒ½è¦è¿”å›å¤„ç†ç»“æœçš„å­—å…¸ï¼ŒFastAPIå°†å¤„ç†ç»“æœè‡ªåŠ¨åºåˆ—åŒ–ä¸ºJSONå“åº”æ ¼å¼)
                                    7.2 Vuex Storeçš„Axiosæ¥æ”¶å“åº”ï¼šä¸å‘é€è¯·æ±‚åŒä¸€å¥ä»£ç  const response = await axios.post()
                                    7.3 Vuexæ›´æ–°çŠ¶æ€ï¼šæ›´æ–°æ£€æµ‹çŠ¶æ€ï¼Œå­˜å‚¨æ£€æµ‹ç»“æœ(modules/yolo.jsä¸­ï¼Œ const mutations = {setDetectionResults(state, results){state.setDetectionResults = results},const actions = {async detectImages({commit}, payload){commit('setDetectionResults',response.data)}})
                                    7.4 é¡µé¢çŠ¶æ€æ›´æ–°ï¼šæ£€æµ‹å®Œæˆåï¼ŒåŠ¨æ€æ˜¾ç¤ºæ£€æµ‹ç»“æœ(DashboardView.vueä¸­ï¼ŒresultImages.value = response.output_images.map(img => ${baseURL}static/outputs/images/${img}).å¹¶é€šè¿‡Vueçš„å“åº”æœºåˆ¶åœ¨htmlä»£ç é‡Œè‡ªåŠ¨æ˜¾ç¤ºç»“æœå›¾ç‰‡å’ŒåŸå›¾)


                                   








         
          
